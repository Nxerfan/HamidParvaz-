<!doctype html>
<html lang="fa" dir="rtl">
  <head>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <div class="HeaderTop2">
        <div class="Container">
          <a href="#" class="Logo">
            <img src="Media/لوگو حمید پرواز (2).png" alt="Niksa Logo" />
          </a>

          <div class="AuthButtons">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              width="24"
              height="24"
            >
              <path
                d="M12 2.5a5.25 5.25 0 0 0-2.519 9.857 9.005 9.005 0 0 0-6.477 8.37.75.75 0 0 0 .727.773H20.27a.75.75 0 0 0 .727-.772 9.005 9.005 0 0 0-6.477-8.37A5.25 5.25 0 0 0 12 2.5Z"
              ></path>
            </svg>
            <p>UserName</p>
          </div>
        </div>
      </div>
    </header>
    <div class="Hero4">
      <div class="HeroContent">
        <div class="stepper">
          <div class="step active">
            <i class="fa-solid fa-check"></i>
            <span>تایید اطلاعات</span>
          </div>

          <div class="line"></div>

          <div class="step">
            <i class="fa-solid fa-user-group"></i>
            <span>اطلاعات مسافران</span>
          </div>

          <div class="line"></div>

          <div class="step">
            <i class="fa-solid fa-filter"></i>
            <span>تعیین شرایط</span>
          </div>

          <div class="line"></div>

          <div class="step">
            <i class="fa-solid fa-cart-shopping"></i>
            <span>تعیین بلیط</span>
          </div>
        </div>
      </div>
    </div>

    <div class="Countainer">
      <div class="ChooseOpt">
        <div class="Card">
          <div class="Titel">
            <p>تعیین شرایط بلیط</p>
          </div>
          <div class="ChooseFilter">
            <p>در این بخش، شرایط مورد نظر خود را تعیین کنید:</p>
            <div class="SeeMore">
              <div class="ContentIn">
                <div class="R">
                  <!-- تا 9,572,000 تومانء باید با گزینه ی انتخاب شده یکی باشه -->
                  <p>مجاز به خرید بلیط‌های تا 9,572,000 تومانء</p>
                  <!-- سطح پیشنهادی باید با اسپن انتخاب شده یکی باشه -->
                  <span>سطح پیشنهادی</span>
                </div>
                <div class="L">
                  <i class="fa-solid fa-angle-down"></i>
                </div>
              </div>

              <div class="MoreDetails">
                <div class="Cards">
                  <div class="Opt">
                    <div class="R">
                      <p>9,572,000 تومانء</p>
                      <span>سطح پیشنهادی</span>
                    </div>
                    <div class="L">
                      <p>قیمت اکثر پروازها از این مبلغ کمتر است</p>
                    </div>
                  </div>
                  <div class="Opt">
                    <div class="R">
                      <p>5,519,000 تومانء</p>
                      <span> موفقیت بیشتر</span>
                    </div>
                    <div class="L">
                      <p>حداکثر قیمت بلیط‌های غیر بیزینس این مسیر</p>
                    </div>
                  </div>
                  <div class="Opt">
                    <div class="R">
                      <p>مبلغ دلخواه من</p>
                    </div>
                    <div class="L">
                      <p>بلیط‌های تا مبلغ دلخواه شما را خرید خواهیم کرد.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="SeeMore">
              <div class="ContentIn">
                <div class="R">
                  <!-- 3 ساعت قبل از پرواز باید با گزینه ی انتخاب شده یکی باشه -->
                  <p>جستجو و خرید بلیط تا 3 ساعت قبل از پرواز</p>
                </div>
                <div class="L">
                  <i class="fa-solid fa-angle-down"></i>
                </div>
              </div>

              <div class="MoreDetails">
                <ul style="list-style-type: none">
                  <li>2 ساعت قبل از پرواز</li>
                  <li>2.5 ساعت قبل از پرواز</li>
                  <li>3 ساعت قبل از پرواز <span>احتمال موفقیت بیشتر</span></li>
                  <li>3.5 ساعت قبل از پرواز</li>
                  <li>4 ساعت قبل از پرواز</li>
                  <li>4.5 ساعت قبل از پرواز</li>
                  <li>5 ساعت قبل از پرواز</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="KeepGoing">
        <div class="Card">
          <p>موجود شد رزرو کن - هواپیما</p>
          <div class="Content">
            <p>تهران به کیش</p>
            <p>شنبه 11 بهمن</p>
          </div>
        </div>
        <a href="AutoReserve(3).html">
          <button>ادامه و تعیین شرایط</button>
        </a>
      </div>
    </div>

    <script>
      document.querySelectorAll(".SeeMore").forEach((seeMore) => {
        const opts = seeMore.querySelectorAll(".Opt");

        seeMore.addEventListener("click", (e) => {
          if (e.target.closest("input")) return;
          if (e.target.closest(".Opt")) return;

          seeMore.classList.toggle("active");
        });

        opts.forEach((opt) => {
          opt.addEventListener("click", (e) => {
            if (e.target.tagName === "INPUT") return;

            e.stopPropagation();
            if (!seeMore.classList.contains("active")) return;

            opts.forEach((o) => {
              o.classList.remove("selected");
              const input = o.querySelector(".custom-input");
              if (input) input.remove();
            });

            opt.classList.add("selected");

            if (opt.innerText.includes("مبلغ دلخواه من")) {
              const inputWrap = document.createElement("div");
              inputWrap.className = "custom-input";
              inputWrap.innerHTML = `
            <input type="text" placeholder="مبلغ دلخواه را وارد کنید">
          `;
              opt.appendChild(inputWrap);
            }
          });
        });
      });

      document.querySelectorAll(".MoreDetails li").forEach((li) => {
        li.addEventListener("click", () => {
          document
            .querySelectorAll(".MoreDetails li")
            .forEach((item) => item.classList.remove("selected"));

          li.classList.add("selected");
        });
      });
    </script>

    <script>
      const currentStep = 2;

      const steps = document.querySelectorAll(".step");
      const lines = document.querySelectorAll(".line");

      steps.forEach((step, index) => {
        if (index < currentStep) {
          step.classList.add("active");
        }
      });

      lines.forEach((line, index) => {
        if (index < currentStep - 1) {
          line.classList.add("active");
        }
      });
    </script>
  </body>
</html>
